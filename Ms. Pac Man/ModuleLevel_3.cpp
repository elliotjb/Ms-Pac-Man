#include "Globals.h"
#include "Application.h"
#include "ModuleLevel_1.h"
#include "ModuleLevel_2.h"
#include "ModuleLevel_3.h"
#include "ModuleTextures.h"
#include "ModuleRender.h"
#include "ModulePlayer.h"
#include "ModuleInput.h"
#include "ModuleFadeToBlack.h"
#include "ModuleGhostRed.h"
#include "ModuleGhostOrange.h"
#include "ModuleGhostBlue.h"
#include "ModuleGhostPink.h"
#include "ModuleSound.h"

ModuleLevel3::ModuleLevel3()
{
	//Welcome
	level3 = { 0, 0, 224, 288 };
	level3_2 = { 0, 272, 224, 16 };
	level3_center = { 228, 0, 224, 288 };
	pills = { 8, 8, 8, 8 };

	big_pill.PushBack({ 208, 16, 8, 8 });
	big_pill.PushBack({ 235, 16, 8, 8 });
	big_pill.speed = 0.1f;
}
ModuleLevel1::~ModuleLevel1()
{}

bool ModuleLevel1::Start()
{
	bool ret = true;
	eatenpills = 0;
	victory = false;
	int tile[31][28] = {
		/*      0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22  23 24 25 26 27*/
		/*0 */{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
		/*1 */{ 5, 5, 5, 5, 5, 5, 5, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 5, 5, 5, 5, 5, 5, 5 },
		/*2 */{ 0, 0, 0, 0, 0, 0, 5, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 5, 0, 0, 0, 0, 0, 0 },
		/*3 */{ 0, 0, 0, 0, 0, 0, 3, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 5, 0, 0, 0, 0, 0, 0 },
		/*4 */{ 0, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 0 },
		/*5 */{ 0, 3, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 3, 0 },
		/*6 */{ 0, 3, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 3, 0 },
		/*7 */{ 0, 3, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 3, 0 },
		/*8 */{ 0, 3, 0, 0, 3, 0, 0, 0, 0, 5, 0, 0, 3, 3, 3, 3, 0, 0, 5, 0, 0, 0, 0, 3, 0, 0, 3, 0 },
		/*9 */{ 0, 3, 0, 0, 3, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 3, 0, 0, 3, 0 },
		/*10*/{ 0, 3, 3, 3, 3, 3, 3, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 3, 3, 3, 3, 3, 3, 0 },
		/*11*/{ 0, 0, 0, 0, 0, 0, 3, 0, 0, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0, 0, 3, 0, 0, 0, 0, 0, 0 },
		/*12*/{ 0, 0, 0, 0, 0, 0, 3, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 3, 0, 0, 0, 0, 0, 0 },
		/*13*/{ 0, 3, 3, 3, 3, 3, 3, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 3, 3, 3, 3, 3, 3, 0 },
		/*14*/{ 0, 3, 0, 0, 0, 0, 3, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 3, 0, 0, 0, 0, 3, 0 },
		/*15*/{ 0, 3, 0, 0, 0, 0, 3, 5, 5, 5, 0, 0, 0, 0, 0, 0, 0, 0, 5, 5, 5, 3, 0, 0, 0, 0, 3, 0 },
		/*16*/{ 0, 3, 3, 3, 0, 0, 3, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 3, 0, 0, 3, 3, 3, 0 },
		/*17*/{ 0, 0, 0, 3, 0, 0, 3, 0, 0, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 0, 0, 3, 0, 0, 3, 0, 0, 0 },
		/*18*/{ 0, 0, 0, 3, 0, 0, 3, 0, 0, 0, 0, 5, 0, 0, 0, 0, 5, 0, 0, 0, 0, 3, 0, 0, 3, 0, 0, 0 },
		/*19*/{ 0, 0, 0, 3, 0, 0, 3, 0, 0, 0, 0, 5, 0, 0, 0, 0, 5, 0, 0, 0, 0, 3, 0, 0, 3, 0, 0, 0 },
		/*20*/{ 0, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0 },
		/*21*/{ 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0 },
		/*22*/{ 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0 },
		/*23*/{ 5, 5, 5, 3, 3, 3, 3, 0, 0, 3, 3, 3, 5, 5, 5, 5, 3, 3, 3, 0, 0, 3, 3, 3, 3, 5, 5, 5 },
		/*24*/{ 0, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 0 },
		/*25*/{ 0, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 0 },
		/*26*/{ 0, 4, 3, 3, 0, 0, 3, 3, 3, 3, 3, 3, 3, 0, 0, 3, 3, 3, 3, 3, 3, 3, 0, 0, 3, 3, 4, 0 },
		/*27*/{ 0, 3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 3, 0, 0, 3, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3, 0 },
		/*28*/{ 0, 3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 3, 0, 0, 3, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 3, 0 },
		/*29*/{ 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0 },
		/*30*/{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },
	};

	for (int i = 0; i < 31; i++)
	{
		for (int j = 0; j < 28; j++)
		{
			map[i][j] = tile[i][j];
		}
	}


	LOG("Loading background assets");

	graphics = App->textures->Load("Mspacman.png");
	graphics_2 = App->textures->Load("MsPacMan_Sprites.png");

	App->ghost_r->Enable();
	App->ghost_b->Enable();
	App->ghost_p->Enable();
	App->ghost_o->Enable();
	App->player->Enable();

	return ret;
}



















